!function(t){function i(t){return o.preventDefault(t),!1}function e(t){this.info={downXY:{}},this.touchmoved=!1,this.core=t,this.init()}var n={},o={handler:{}};o.POSITION_EVENTS=["gesturestart","gesturechange","gestureend","touchstart","touchmove","touchend","mousedown","mouseover","mousemove","mouseup","click","dblclick","contextmenu","mousewheel","DOMMouseScroll"],o.BROWSER_EVENTS=["orientationchange","drop","dragleave","dragenter","dragover","dragend","dragstart","drag","load","change","focus","scroll","blur","resize","error","keypress","keydown","keyup"].concat(o.POSITION_EVENTS),o.handler.Mouse=e,e.prototype={interval:300,mouseEventOn:400,deviation:5,name:"Mouse",clickOnPushDown:!1,init:function(){this._listenMouse(!0),this._listenTouch(!0),this.core.on("DOMMouseScroll",this,this._wheel)},_listenMouse:function(t){var i=this.core,e="un";t&&(this._listenMouse(!1),e="on"),i[e]("contextmenu",this,this._rightclick),i[e]("mousewheel",this,this._wheel),i[e]("mousedown",this,this._mousedown),i[e]("mousemove",this,this._mousemove),i[e]("mouseup",this,this._mouseup)},_listenTouch:function(t){var i=this.core,e="un";t&&(this._listenTouch(!1),e="on"),i[e]("touchstart",this,this._touchstart),i[e]("touchmove",this,this._touchmove),i[e]("touchend",this,this._touchend)},_wheel:function(t){var i=this.core;t.wheelStep=t.wheelDelta?t.wheelDelta/120:-t.detail/3,t.wheelStep>0?i.emit("$wheelup",t):i.emit("$wheeldown",t),i.emit("$wheel",t)},_rightclick:function(t){this.core.emit("$right",t)},_down:function(t){var i=this.info;return i.hasClick=!1,i.hasDown=h(t),i.hasMove=!1,this.clickOnPushDown&&(i.hasClick=!0,this.core.emit("$click",t)),this.core.emit("$down",t),!1},_mousedown:function(t){this._listenTouch(!1),this.info.downXY={x:t.clientX,y:t.clientY},this._down(t)},_mousemove:function(t){this._move(t,{x:t.clientX,y:t.clientY})},_mouseup:function(t){this._listenTouch(!0),this._up(t,{x:t.clientX,y:t.clientY})},_touchstart:function(t){this._listenMouse(!1);var i=t.targetTouches;this.info.downXY={x:i[0].clientX,y:i[0].clientY},this._down(t)},_touchmove:function(t){var i=t.targetTouches;this._move(t,{x:i[0].clientX,y:i[0].clientY})},_touchend:function(t){var i=this;clearTimeout(this.info.timeoutId),this.info.timeoutId=setTimeout(function(){i._listenMouse(!0)},this.mouseEventOn);t.targetTouches;this._up(t)},_move:function(t,i){var e=this.info;e.hasDown&&(e.hasMove||(e.hasMove=Math.abs(e.downXY.x-i.x)>this.deviation||Math.abs(e.downXY.y-i.y)>this.deviation,e.hasMove&&this.core.emit("$movestart",t)),e.hasMove&&(this.core.emit("$move",t),e.inTiming&&this._clearTimeout()))},_clearTimeout:function(t){var i=this.info;clearTimeout(i.inTiming),i.inTiming=!1,t||2==this.clickButtion||this.core.emit("$lagclick",i._lagevt),this.clickButtion=-1},_up:function(t){var i=h(t),e=this.info;if(this.core.emit("$up",t),e.hasMove||e.hasDown!=i)return void(e.hasDown=!1);this.clickOnPushDown||e.hasClick||(e.hasClick=!0,this.core.emit("$click",t)),e.hasDown=!1;var n=((new Date).getTime(),this);if(e.inTiming)this.clickButtion==t.button?(2==this.clickButtion?this.core.emit("$dbrclick",t):this.core.emit("$dblclick",t),n._clearTimeout(!0)):n._clearTimeout();else{var o=this.info._lagevt={sims:!0};for(var s in t)o[s]=t[s];e.inTiming=setTimeout(function(){n._clearTimeout()},this.interval),this.clickButtion=t.button}},destroy:function(){this._listenMouse(!1),this._listenTouch(!1),this.core.un("DOMMouseScroll",this,this._wheel)}};var s=0;o.useMouseHandler=!0;var r=o.Events=function(){this.emitterMap={},this.contextInfo={},this.listenerList=[],this.id=s++,n[this.id]=this,o.useMouseHandler&&(this.mouse=new e(this))};r.prototype={_get:function(t){return this.emitterMap[t]=this.emitterMap[t]||[]},destroy:function(){this.emitterMap=null;for(var t;t=this.listenerList.shift();)o.stopObserveElement(this.bindedElement,t.name,t.fun);this.listenerList=null,this.bindedElement=null,this.mouse&&this.mouse.destroy(),delete n[this.id]},on:function(t,i,e,n){var o=this._get(t);return o.push({evtName:t,scope:i,fun:e,once:n}),this},un:function(t,i,e){for(var n=this._get(t),o=0;o<n.length;o++){var s=n[o];s.scope==i&&s.fun==e&&n.splice(o,1)}return this},emit:function(t){for(var i=Array.prototype.slice.call(arguments),t=i.shift(),e=this._get(t),n=[],o=0;o<e.length;o++){var s=e[o],r=s.fun.apply(s.scope,i);if(s.once&&n.push(s),!1===r)break}for(var o=0;o<n.length;o++){var s=n[o];this.un(s.evtName,s.scope,s.fun)}return this},stopEvent:!1,cancelDefault:function(t){this.bindedElement["on"+t]=i}};var a=function(t,i){return"keypress"==i&&(navigator.appVersion.match(/Konqueror|Safari|KHTML/)||t.attachEvent)?"keydown":i};o.observeElement=function(t,i,e,n){n=n||!1,i=a(t,i),t.addEventListener?t.addEventListener(i,e,n):t.attachEvent("on"+i,e)},o.stopObserveElement=function(t,i,e,n){i=a(t,i),t.removeEventListener&&t.removeEventListener(i,e,n),t.detachEvent&&t.detachEvent("on"+i,e)},o.stopEvent=function(t){try{t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation()}catch(i){}},o.preventDefault=function(t){try{t.returnValue=!1,t.preventDefault&&t.preventDefault()}catch(i){}},o.findElement=function(t,i,e){for(;t.parentNode;){if(i(t))return t;if(e==t)return null;t=t.parentNode}return null};var h=o.getSrcElement=function(t){return t.srcElement||t.target},l=o.positionInfo=function(t){t.xy={x:t.clientX,y:t.clientY},t.wheelStep=t.wheelDelta?t.wheelDelta/120:-t.detail/3};o.destroy=function(t){var i=n[t.event_id];i&&i.destroy()};var c=function(i,e){return function(n){n=n||t.event,n.manager={eventName:i,event:e,element:e.bindedElement,src:h(n)},e.stopEvent&&o.stopEvent(n),e.emit(i,n)}};o.listen=function(i,e){"string"==typeof i&&(i=t.document.getElementById(i));var s=n[i.event_id],r=o.BROWSER_EVENTS;if(!s){s=new o.Events,s.bindedElement=i,i.event_id=s.id;for(var a=0;a<r.length;a++){var h=c(r[a],s);s.listenerList.push({name:r[a],fun:h}),o.observeElement(i,r[a],h)}for(var a=0;a<o.POSITION_EVENTS.length;a++)s.on(o.POSITION_EVENTS[a],s,l)}return s.stopEvent=e,s},"function"==typeof require&&"object"==typeof o&&"object"==typeof module?module.exports=o:"function"==typeof define&&define.cmd?define("NEvents",[],function(t,i,e){e.exports=o}):t.NimanEvents=o}(this),function(t){var i=function(i){function e(t){function e(){var t=(new Date).getTime();n.info.lastTime=n.info.lastTime||t;var i=t-n.info.lastTime;n.info.lastTime=t;var e=n.info.speed-n.deceleration*i;if(0>=e)return n.animation.stop(),n._afterInertiaStop(),void n.core.emit("$inertiaend",{});var o=(n.info.speed+e)/2*i,r=n.info.distance=s(n.info.distance+o),a=s(n.info.a/n.info.c*r),h=s(n.info.b/n.info.c*r),l=n.info.currentXY={x:n.info.lastXY.x+a,y:n.info.lastXY.y+h};n.info.speed=e,n._setPosition({inertia:!0},l)}this.core=t,this.info={hasDown:!1,lastXY:{x:0,y:0}};var n=this;n.docMove=function(t){i.positionInfo(t),n._mousemove(t)},n.docUp=function(t){i.positionInfo(t),n._mouseup(t)},this.points=[],this.init(!0);var n=this;this.animation=new y(e)}var n=!1,o=t.navigator,s=Math.round,r=".ds_"+s(1e6*Math.random()),a=t.document,h=o&&/opera|firefox/g.test(o.userAgent.toLowerCase()),l=function(t,i,e){var n=t.className=t.className||" ";n=n.split(" ");for(var o=0;o<n.length;o++)n[o]==i&&(n[o]="");t.className=n.join(" "),e&&(t.className=(t.className+" "+i).replace(/\s+/g," ").replace(/^\s+|\s+$/g,""))},c=function(){return t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame||function(t){return setTimeout(t,1)}}(),u={},f=0,d=function(){var t;for(var i in u)t=u[i]();m&&c(d)},m=!1,p=a.createElement("div").style;if(o&&/msie [678]/g.test(o.userAgent.toLowerCase())&&(n=!0),h){var g=a.createElement("style");g.innerHTML=r+" { -moz-user-select: none; }";var v=a.getElementsByTagName("head")[0]||a.documentElement;v.appendChild(g)}var y=function(t){t&&this.setCallback(t)};y.prototype={start:function(){this.playing||(0==f&&(c(d),m=!0),this.callback&&!this.playing&&(f++,u[f]=this.callback,this.index=f,this.playing=!0))},playing:!1,stop:function(){this.playing&&(f--,delete u[this.index],this.playing=!1),0==f&&(m=!1),this.onStop&&this.onStop()},setCallback:function(t){this.callback=t},removeCallback:function(){this.callback=null}};{var _=function(){for(var t=["t","webkitT","MozT","msT","OT"],i=0;i<t.length;i++){var e=t[i]+"ransform";if(e in p)return t[i].substr(0,t[i].length-1)}return!1}(),x=(_?"-"+_.toLowerCase()+"-":"",function(t){return""===_?t:(t=t.charAt(0).toUpperCase()+t.substr(1),_+t)}),S=x("transform"),w=(x("transitionProperty"),x("transitionDuration")),E=x("transformOrigin"),T=x("transitionTimingFunction");x("transitionDelay"),function(){if(_===!1)return!1;var t={"":"transitionend",webkit:"webkitTransitionEnd",Moz:"transitionend",O:"otransitionend",ms:"MSTransitionEnd"};return t[_]}()}i.transform=S,i.transformOrigin=E,i.oldIE=n,i.Animation=y;var b=i.Events.prototype;b.buildDragger=function(){return this.dragger||(this.dragger=new e(this)),this},b.setContainer=function(t){this.dragger&&this.dragger.setContainer(t)};var D=b.on;b.on=function(t){return new RegExp("^\\$dragstart$|^\\$dragging$|^\\$dragend$|^\\$inertiaend$","g").test(t)&&this.buildDragger(),D.apply(this,arguments)},i.handler.Dragger=e,e.prototype={isInertia:!0,useTransform:!0,delay:200,nbPoints:100,deceleration:.002,dragAble:!0,container:a,name:"Dragger",init:function(t){var e=t?"on":"un",n=i.listen(this.container);n[e]("mousedown",this,this._mousedown),n[e]("mousemove",this,this._mousemove),n[e]("mouseup",this,this._mouseup),n[e]("touchstart",this,this._touchstart),n[e]("touchmove",this,this._touchmove),n[e]("touchend",this,this._touchend),n[e]("$movestart",this,this._dragstart)},_domSelectAble:function(t,i){h?l(t,r,!i):t.onselectstart=function(){return i}},_selectAble:function(t){this._domSelectAble(this.core.bindedElement,t),this._domSelectAble(this.container,t),this._domSelectAble(a,t)},_mousedown:function(t){this._down(t,{x:t.clientX,y:t.clientY})},_touchstart:function(t){var i=t.targetTouches;this._down(t,{x:i[0].clientX,y:i[0].clientY})},_isParent:function(t){var i=t,e=this.core.bindedElement;if(i==e)return!0;for(;i=i.parentNode;)if(i==e)return!0;return!1},_down:function(t,e){if(this._isParent(i.getSrcElement(t))){if(this.info.inertiaMoving&&this._inertiaStop(),this._afterInertiaStop(),this.container!=a){var n=i.listen(a);n.on("mousemove",this,this.docMove),n.on("mouseup",this,this.docUp)}this.info.downXY=e,this.info.hasDown=!0,this._selectAble(!1)}},_mousemove:function(t){this._move(t,{x:t.clientX,y:t.clientY})},_touchmove:function(t){var i=t.targetTouches;this._move(t,{x:i[0].clientX,y:i[0].clientY})},beforeMove:function(){return!0},_isMutiTouch:function(t){var i=t.touches;if(!i||i.length<2)return!1;for(var e=0;e<i.length;e++)if(!this._isParent(i[e].target))return!1;return!0},_move:function(t,i){!this.beforeMove(t,i)||t&&this._isMutiTouch(t)||this.info.dragstart&&(this.isInertia&&(this.points.unshift({x:i.x,y:i.y,tick:(new Date).getTime()}),this.points.length>this.nbPoints&&this.points.pop()),this._setPosition(t,i))},_mouseup:function(t){this._up(t)},_touchend:function(t){this._up(t)},_up:function(t){if(this.info.hasDown&&(this.info.hasDown=!1,this._dragend(t),this.container!=a)){var e=i.listen(a);e.un("mousemove",this,this.docMove),e.un("mouseup",this,this.docUp)}this._selectAble(!0)},_initStartXY:function(){var t=this.core.bindedElement.style;if(t[T]="",t[w]="",this.useTransform&&!n){var i=t[S].replace(/translate\(|\)/g,"").split(",");2==i.length?(this.info.teansX=parseInt(i[0]),this.info.teansY=parseInt(i[1])):(this.info.teansX=0,this.info.teansY=0),this.info.lastPosition={x:this.info.teansX,y:this.info.teansY}}else this.info.left=parseInt((t.left+"").replace("px",""))||0,this.info.top=parseInt((t.top+"").replace("px",""))||0,this.info.lastXY=this.info.lastPosition={x:this.info.left,y:this.info.top}},_dragstart:function(t){this.info.hasDown&&(this._initStartXY(),this.info.dragstart=!0,this.core.emit("$dragstart",t))},_dragend:function(t){this.info.lastXY=this.info.lastPosition,this.info.dragstart&&(this.info.dragstart=!1,this.isInertia&&(this.info.lastTime=0,this.info.inertiaMoving=!1,this.info.speed=0,this.info.distance=0,this._inertiaStart(),this.points=[]),this.core.emit("$dragend",t))},_setXY:function(t,i){if(!isNaN(t)&&!isNaN(i)){var e=this.core.bindedElement.style;this.useTransform&&!n?(t=s(t+this.info.teansX),i=s(i+this.info.teansY),e[S]="translate("+t+"px,"+i+"px)  translateZ(0px)"):(t=s(t+this.info.left),i=s(i+this.info.top),e.left=t+"px",e.top=i+"px")}},_setPosition:function(t,i){this.dragAble&&i&&this.info.downXY&&(this._setXY(i.x-this.info.downXY.x,i.y-this.info.downXY.y),this.info.lastPosition=i,t.currentXY=i,this.core.emit("$dragging",t))},setContainer:function(i){"string"==typeof i&&(i=t.document.getElementById(i)),this.init(!1),this.container=i,this.init(!0)},_inertiaStart:function(){for(var t,i,e=(new Date).getTime(),n=0,o=this.points.length;o>n&&(i=this.points[n],!(e-i.tick>this.delay));n++)t=i;if(!t)return void this.core.emit("$inertiaend",{});var s=this.points[0],r=s.tick-t.tick;this.info.a=s.x-t.x,this.info.b=s.y-t.y;var a=this.info.c=Math.sqrt(Math.pow(this.info.a,2)+Math.pow(this.info.b,2));return 0==a||isNaN(a)?void this.core.emit("$inertiaend",{}):(this.info.speed=this.info.v=this.info.c/r,this.info.distance=0,this.info.inertiaMoving=!0,void this.animation.start())},_afterInertiaStop:function(){this.info.lastTime=0,this.info.inertiaMoving=!1,this.info.speed=0,this.info.distance=0,this.points=[]},_inertiaStop:function(){this.animation.stop();var t=this.core.bindedElement.style;t[T]="",t[w]="",this._setPosition({inertia:!0},this.info.currentXY),this._afterInertiaStop()},destroy:function(){this.init(!1),this.animation.stop()}};var N=!1,M=function(t){new RegExp("INPUT|SELECT|BUTTON|TEXTAREA").test(t.manager.src.tagName.toUpperCase())||i.preventDefault(t)};i.forMobileDragger=function(t,e){N&&t||(N=t,t=t?"on":"un",i.listen(e||document)[t]("touchstart",null,M))}};if("function"==typeof require&&"object"==typeof exports&&"object"==typeof module){var e=require("NEvents");i(e),module.exports=e}else"function"==typeof define&&define.cmd?define("Dragger",["NEvents"],function(t,e,n){var o=t("NEvents");i(o),n.exports=o}):i(t.NimanEvents)}(this),function(t){var i=function(t,i){var e=Math.round,n=function(t,i,e,n){return Math.sqrt(Math.pow(t-e,2)+Math.pow(i-n,2))},o=function(t,i,e){var n,o,s=e.info.padding,r=e.info.size;return n=r.outWidth-r.inWidth*e.zoom,n>s.left&&(n=s.left),t>s.left&&(t=s.left),t<n-s.right&&(t=n-s.right),o=r.outHeight-r.inHeight*e.zoom,o>s.top&&(o=s.top),i>s.top&&(i=s.top),i<o-s.bottom&&(i=o-s.bottom),{dx:t,dy:i}},s=function(i,n){"string"==typeof i&&(i=document.getElementById(i)),""==i.style.position&&(i.style.position="relative"),this.outDom=i,"string"==typeof n&&(n=document.getElementById(n)),""==n.style.position&&(n.style.position="relative"),this.dom=n,t.forMobileDragger(!0,i),this.tempDiv=document.createElement("div"),this.info={padding:{top:0,right:0,bottom:0,left:0},offsetXY:{x:0,y:0},scrollLeft:0,scrollTop:0},this.scrollCss+="border-radius:"+e(this.scrollWidth/2)+"px";var s=this,r=t.listen(n).buildDragger();r.buildDragger(),this.core=r,this.dragger=r.dragger,r.dragger._setXY=function(i,n){if(!isNaN(i)&&!isNaN(n)&&s.scrollAble){var r,a=this.core.bindedElement,h=a.style,l=s.info,c=(l.size,s.useTransform&&!t.oldIE);c?(i=e(i+this.info.teansX),n=e(n+this.info.teansY),r=o(i,n,s),a.parentNode&&(h[t.transform]="translate("+r.dx+"px,"+r.dy+"px) "+l.translateZ+" scale("+s.zoom+") ",h[t.transformOrigin]=s.transformOrigin)):(i=e(i+this.info.left),n=e(n+this.info.top),r=o(i,n,s),a.parentNode&&(h.left=r.dx+"px",h.top=r.dy+"px")),s.info.offsetXY={x:r.dx,y:r.dy},s._moveScroll(),s.core.emit("$scrolling",{})}},this.animation=new t.Animation,r.on("$dragstart",this,this._hideScroll),r.on("$inertiaend",this,this._inertiaend),this.xScroll=document.createElement("div"),this.yScroll=document.createElement("div"),r.on("$down",this,this.reflush),this.reflush()};return s.prototype={zoom:1,scrollTime:300,showXScroll:!0,showYScroll:!0,useTempDiv:!1,useTranslateZ:!0,scrollAble:!0,transformOrigin:"0 0",useTransform:!0,scrollZindex:100,scrollCss:"background-color:#000000;border:solid 1px #FFFFFF;position:absolute;z-index:100;display:none;opacity:0;transition:opacity 300ms;",scrollWidth:3,scrollOpacity:.4,destroy:function(){this.core.un("$inertiaend",this,this._inertiaend),this.core.un("$dragging",this,this._onNextPageEvent),this.core.un("$dragstart",this,this._hideScroll),this.core.un("$down",this,this.reflush),t.forMobileDragger(!1,this.outDom),this.xScroll.parentNode&&this.outDom.removeChild(this.xScroll),this.yScroll.parentNode&&this.outDom.removeChild(this.yScroll),this.xScroll=null,this.yScroll=null},_moveScroll:function(){var i,n,o=this.info,s=o.size,r=o.offsetXY,a=self.useTransform&&!t.oldIE;this.showXScroll&&(i=o.scrollLeft=-e(r.x*s.outWidth/s.inWidth)/this.zoom,a?this.xScroll.style[t.transform]="translate("+i+"px,0px)"+o.translateZ:this.xScroll.style.left=i+"px"),this.showYScroll&&(n=o.scrollTop=-e(r.y*s.outHeight/s.inHeight)/this.zoom,a?this.yScroll.style[t.transform]="translate(0px,"+n+"px)"+o.translateZ:this.yScroll.style.top=n+"px")},_hideScroll:function(t,i){var e=i?0:this.scrollOpacity;this.xScroll.style.opacity=e,this.yScroll.style.opacity=e},_inertiaend:function(){this._hideScroll(null,!0),this._scrollToElement(this._near(this.info.offsetXY))},_scrollToElement:function(t,i){var e,n,o=this.info.padding;t&&(e=t.left+o.left,n=t.top+o.top,this.scrollTo.apply(this,[e,n,i]),this.info.currentElementIndex=t.index)},_playAnimation:function(t,i,e){var n={x:this.info.offsetXY.x,y:this.info.offsetXY.y},o={x:t-n.x,y:i-n.y},s=this,r=(new Date).getTime(),a=function(){var t=(new Date).getTime()-r,i=t/e,n=o.x*i,a=o.y*i;t>=e&&(n=o.x,a=o.y,s.dragger.dragAble=!0,s.animation.stop(),s.animation.removeCallback()),s.dragger._setXY(n,a)};this.animation.setCallback(a),this.animation.start()},_playZoomAnimation:function(t,i){var e=this,n=this.zoom,o=t-n,s=(new Date).getTime(),r=function(){var r=(new Date).getTime()-s;e.zoom=o*r/i+n,r>=i&&(e.zoom=t,e.dragger.dragAble=!0,e.animation.stop(),e.animation.removeCallback(),e._initXYScroll(),e._snap()),e.dragger._setXY(0,0)};this.animation.setCallback(r),this.animation.start()},_onNextPageEvent:function(){var t=this.info.nextPage,i=this.info.offsetXY,e=this.info.size,n=!1;n=n||"bottom"==t.type&&t.threshold>=e.inHeight+i.y-e.outHeight,n=n||"right"==t.type&&t.threshold>=e.inWidth+i.x-e.outWidth,n&&(t.callback(this.info.resetState),this.core.un("$dragging",this,this._onNextPageEvent),this.info.resetStateOn=!1)},_offset:function(t,i){for(var e=t.offsetLeft,n=t.offsetTop,o=t.offsetWidth,s=t.offsetHeight,r=this.zoom;(t=t.parentNode)&&t!=this.dom;)e+=t.offsetLeft,n+=t.offsetTop;return e*=r,n*=r,o*=r,s*=r,{left:-e,top:-n,right:e+o,bottom:n+s,index:i}},_near:function(t){var i,e,o,s,r,a,h,l=this.info.padding;if(!this.info.snapFilter)return null;for(i=this.info.snapBounds,a=t.x-l.left,h=t.y-l.top,shortest=null,s=1/0,e=0;e<i.length;e++)o=i[e],r=n(a,h,o.left,o.top),s>r&&(s=r,shortest=o);return shortest},_snap:function(){var t,i,e;if(!(e=this.info.snapFilter))return void(this.info.snapBounds=null);i=this.info.snapBounds=[],t=e();for(var n=0;n<t.length;n++)i.push(this._offset(t[n],n))},_initXYScroll:function(){var t=this.info,i=t.size,e=this.xScroll.style,n=this.yScroll.style,o=Math.round(Math.pow(i.outWidth,2)/i.inWidth)/this.zoom,s=Math.round(Math.pow(i.outHeight,2)/i.inHeight)/this.zoom;e.cssText=this.scrollCss,e.left="0px",e.bottom="0px",e.width=o+"px",e.height=this.scrollWidth+"px",n.cssText=this.scrollCss,n.right="0px",n.top="0px",n.height=s+"px",n.width=this.scrollWidth+"px",this._moveScroll(),o<i.outWidth&&(e.display="block"),s<i.outHeight&&(n.display="block")},nextPage:function(t,i,e){if(this.info.nextPage={type:t,threshold:i,callback:e,state:!1},this.core.un("$dragging",this,this._onNextPageEvent),!this.info.resetState){var n=this,o=this.info.resetState=function(){n.core.on("$dragging",n,n._onNextPageEvent)};this.info.resetStateOn=!0,o()}},config:function(t,i){void 0!==t&&(this[t]=i)},snap:function(t){var i,e=this;i="string"==typeof t?function(){return e.dom.ownerDocument.getElementsByTagName(t)}:t,this.info.snapFilter=i,this._snap()},resetState:function(){this.info.resetState&&!this.info.resetStateOn&&(this.info.resetStateOn=!0,this.info.resetState())},zoomTo:function(i,e,n){if(!this.animation.playing){e=void 0==e?this.scrollTime:e,this.dragger._initStartXY();var o=this.dragger.useTransform&&!t.oldIE;0!==e&&o?this._playZoomAnimation(i,e):(this.zoom=i,this.dragger._setXY(0,0),this._initXYScroll(),this._snap()),o||n(i)}},showScroll:function(t,i){this.showXScroll=t,this.showYScroll=i},scrollTo:function(t,i,e){this.animation.playing||(this.reflush(),this.dragger.info.inertiaMoving&&this.dragger._inertiaStop(),void 0==e&&(e=1),this.dragger._initStartXY(),this.dragger.dragAble=!1,this._playAnimation(t,i,e))},scrollToElement:function(t,i){if(!this.animation.playing){var e,n,o=this.info;o.snapFilter&&(e=o.snapBounds)&&(n=e[t])&&this._scrollToElement(n,i)}},padding:function(t,i,e,n){this.info.padding={top:t,right:i,bottom:e,left:n}},on:function(t,i,e){this.dragger.core.on(t,i,e)},un:function(t,i,e){this.dragger.core.un(t,i,e)},emit:function(){var t=this.dragger.core;t.emit.apply(t,arguments)},reflush:function(){{var t;this.info}""==this.outDom.style.position&&(this.outDom.style.position="relative"),this.showXScroll&&!this.xScroll.parentNode?this.outDom.appendChild(this.xScroll):!this.showXScroll&&this.xScroll.parentNode&&this.outDom.removeChild(this.xScroll),this.showYScroll&&!this.yScroll.parentNode?this.outDom.appendChild(this.yScroll):!this.showYScroll&&this.yScroll.parentNode&&this.outDom.removeChild(this.yScroll),this.info.translateZ=this.useTranslateZ?" translateZ(0px) ":"",t=this.info.size={outHeight:this.outDom.offsetHeight,outWidth:this.outDom.offsetWidth,inHeight:this.dom.offsetHeight,inWidth:this.dom.offsetWidth},this._initXYScroll();var i=this.outDom.style.display;this.outDom.style.display="none",this.outDom.style.display=i,this.useTempDiv&&(this.outDom.replaceChild(this.tempDiv,this.dom),this.outDom.replaceChild(this.dom,this.tempDiv))}},s.NEvents=s,s.Dragger=i,s};if("function"==typeof require&&"object"==typeof exports&&"object"==typeof module){var e=require("NEvents");module.exports=i(e,require("Dragger"))}else"function"==typeof define&&define.cmd?define("Scroll",["NEvents","Dragger"],function(t,e,n){var o=t("NEvents");n.exports=i(o,t("Dragger"))}):t.JarKaiScroll=i(t.NimanEvents,t.NimanDragger)}(this),"function"==typeof define&&define(function(t){return t("Scroll")}),"function"==typeof define&&define(function(){});